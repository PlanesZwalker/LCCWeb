<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu 3D Three.js - Letters Cascade Challenge</title>
    <meta name="description" content="Version 3D immersive avec Three.js">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🎮</text></svg>">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <!-- Unified CSS System -->
    <link rel="stylesheet" href="../../assets/css/unified-colors.css">
    <link rel="stylesheet" href="../../assets/css/unified-layout.css">
    <link rel="stylesheet" href="../../assets/css/shared.css">
    <link rel="stylesheet" href="../../assets/css/theme-dark.css">
    <link rel="stylesheet" href="../../assets/css/enhanced-ui.css">
    <link rel="stylesheet" href="../../assets/css/unified-enhanced.css">
    
    <!-- Page-specific CSS -->
    <style>
        /* Using unified color system from unified-colors.css */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--spacing-lg);
        }

        /* Page Layout */
        .page-layout {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: var(--spacing-lg);
            max-width: 1600px;
            margin: 0 auto;
            padding: var(--spacing-lg);
        }

        /* Game-specific styles */
        .game-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(25px);
            border-radius: var(--radius-xl);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-xl);
            border: 1px solid rgba(255, 255, 255, 0.3);
            margin-bottom: var(--spacing-xl);
            position: relative;
            overflow: hidden;
        }

        .game-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at top left, rgba(102, 126, 234, 0.05) 0%, transparent 60%);
            pointer-events: none;
        }

        /* Navigation Sidebar */
        .nav-sidebar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(25px);
            border-radius: var(--radius-xl);
            padding: var(--spacing-lg);
            box-shadow: var(--shadow-xl);
            border: 1px solid rgba(255, 255, 255, 0.3);
            height: fit-content;
            position: sticky;
            top: var(--spacing-lg);
        }

        .nav-links {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }

        .nav-links a {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-sm) var(--spacing-md);
            color: var(--gray-700);
            text-decoration: none;
            border-radius: var(--radius-md);
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .nav-links a:hover,
        .nav-links a.active {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            transform: translateX(5px);
        }

        .nav-links a i {
            width: 20px;
            text-align: center;
        }

        /* Main Content */
        .main-content {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-lg);
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: var(--spacing-lg);
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--radius-xl);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-xl);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .header h1 {
            color: var(--primary-color);
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: var(--spacing-md);
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color), var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: var(--gray-600);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Canvas Container */
        .canvas-container {
            position: relative;
            display: inline-block;
            margin: var(--spacing-lg) 0;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            background: #000;
        }

        #threeCanvas {
            display: block;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--radius-lg);
            background: var(--gradient-bg-primary);
        }

        /* Game Controls */
        .game-controls {
            margin-top: var(--spacing-lg);
            display: flex;
            justify-content: center;
            gap: var(--spacing-md);
            flex-wrap: wrap;
        }

        .control-btn {
            padding: var(--spacing-sm) var(--spacing-lg);
            font-size: 1rem;
            font-weight: 600;
            border-radius: var(--radius-md);
            border: 2px solid rgba(255, 255, 255, 0.3);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            color: var(--gray-700);
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .control-btn.primary {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-color: var(--primary-color);
        }

        .control-btn.primary:hover {
            background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Game Info */
        .game-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-md);
            margin-top: var(--spacing-lg);
        }

        .info-panel {
            background: rgba(255, 255, 255, 0.9);
            border-radius: var(--radius-lg);
            padding: var(--spacing-md);
            box-shadow: var(--shadow-md);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .info-panel h3 {
            color: var(--primary-color);
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: var(--spacing-sm);
        }

        .info-panel p {
            color: var(--gray-600);
            font-size: 0.9rem;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            color: white;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: var(--spacing-md);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: var(--spacing-sm);
        }

        .loading-progress {
            width: 300px;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            overflow: hidden;
        }

        .loading-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: var(--spacing-md);
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .game-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .game-info {
                grid-template-columns: 1fr;
            }
        }

        /* Game Status Indicator */
        .game-status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--radius-md);
            padding: var(--spacing-sm) var(--spacing-md);
            box-shadow: var(--shadow-md);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            z-index: 100;
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            font-weight: 600;
            font-size: 0.9rem;
        }

        .game-status.playing {
            color: var(--success-color);
        }

        .game-status.paused {
            color: var(--warning-color);
        }

        .game-status.game-over {
            color: var(--danger-color);
        }
    </style>
    
    <style>
        /* Base page styles */
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--primary-600) 0%, var(--secondary-600) 100%);
            color: var(--neutral-50);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        /* Unified Navigation */
        .unified-nav-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease;
        }
        
        .unified-nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 70px;
        }
        
        .unified-nav-brand {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            font-weight: 700;
            font-size: 1.25rem;
            color: var(--primary-600);
            text-decoration: none;
        }
        
        .unified-nav-menu {
            display: flex;
            align-items: center;
            gap: var(--spacing-lg);
            list-style: none;
            margin: 0;
            padding: 0;
        }
        
        .unified-nav-link {
            color: var(--neutral-700);
            text-decoration: none;
            font-weight: 500;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-md);
            transition: all var(--transition-normal);
        }
        
        .unified-nav-link:hover {
            color: var(--primary-600);
            background: rgba(99, 102, 241, 0.1);
        }
        
        .unified-nav-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--neutral-700);
            font-size: 1.25rem;
            cursor: pointer;
            padding: var(--spacing-sm);
            border-radius: var(--radius-md);
        }
        
        /* Main Content */
        .main-content {
            margin-top: 70px;
            min-height: calc(100vh - 70px);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--spacing-xl);
        }
        
        /* Glass Panel System */
        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(25px);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-2xl);
            box-shadow: var(--shadow-xl);
            border: 1px solid rgba(255, 255, 255, 0.3);
            margin-bottom: var(--spacing-xl);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all var(--transition-normal);
        }
        
        .glass-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }
        
        /* Button System */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-sm) var(--spacing-lg);
            border-radius: var(--radius-md);
            font-weight: 600;
            text-decoration: none;
            transition: all var(--transition-normal);
            border: none;
            cursor: pointer;
            font-size: 0.95rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-600), var(--primary-700));
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--neutral-700);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .unified-nav-menu {
                display: none;
            }
            
            .unified-nav-menu.active {
                display: flex;
                flex-direction: column;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(255, 255, 255, 0.98);
                backdrop-filter: blur(20px);
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
                padding: var(--spacing-lg);
                box-shadow: var(--shadow-lg);
            }
            
            .unified-nav-toggle {
                display: block;
            }
            
            .container {
                padding: var(--spacing-lg);
            }
            
            .glass-panel {
                padding: var(--spacing-xl);
            }
        }
    </style>
</head>
<body>
    <!-- Unified Navigation -->
    <header class="unified-nav-header">
        <div class="unified-nav-container">
            <a href="../../" class="unified-nav-brand">
                <i class="fas fa-gamepad"></i>
                Letters Cascade
            </a>
            
            <nav>
                <ul class="unified-nav-menu" id="nav-menu">
                    <li><a href="../../" class="unified-nav-link">Accueil</a></li>
                    <li><a href="./" class="unified-nav-link">Jeux</a></li>
                    <li><a href="../docs/" class="unified-nav-link">Documentation</a></li>
                    <li><a href="../docs/rules.html" class="unified-nav-link">Règles</a></li>
                </ul>
            </nav>
            
            <button class="unified-nav-toggle" id="nav-toggle" aria-label="Menu">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Unified Navigation -->
    

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-spinner"></div>
        <div class="loading-text">Chargement du jeu Three.js 3D...</div>
        <div class="loading-progress">
            <div class="loading-progress-bar" id="loadingProgressBar"></div>
        </div>
    </div>

    <!-- Game Status Indicator -->
    <div id="gameStatus" class="game-status" style="display: none;">
        <i class="fas fa-circle"></i>
        <span id="gameStatusText">Prêt</span>
    </div>

    <!-- Unified Navigation Header -->
    

    <!-- Main Content -->
    <main class="unified-page-layout">
        <!-- Header -->
        <div class="unified-glass-panel">
            <h1 class="unified-hero-title title-gradient-test">🌊 Letters Cascade Challenge - Three.js 3D</h1>
            <p class="unified-hero-subtitle">Version 3D avec Three.js, environnement naturel avec arbres, rochers, cascade et rivière pour une expérience immersive.</p>
        </div>

        <!-- Game Container -->
        <div class="unified-game-container" id="game-section">
            <h2 class="unified-text-center">🌲 Jeu Three.js 3D - Environnement Naturel</h2>
            
            <!-- Canvas Container -->
            <div class="canvas-container">
                <canvas id="threeCanvas" width="800" height="600"></canvas>
            </div>

            <!-- Game Controls -->
            <div class="unified-text-center unified-mt-lg">
                <button role="button" /><i class="fas fa-play"></i> Démarrer</button>
                <button role="button" /><i class="fas fa-pause"></i> Pause</button>
                <button role="button" /><i class="fas fa-redo"></i> Recommencer</button>
                <button role="button" /><i class="fas fa-expand"></i> Plein Écran</button>
                <button role="button" /><i class="fas fa-tree"></i> Environnement</button>
                <button role="button" /><i class="fas fa-water"></i> Cascade</button>
            </div>

            <!-- Game Info -->
            <div class="unified-grid unified-grid-3 unified-mt-lg">
                <div class="unified-card">
                    <h3 class="game-version-title">🎯 Contrôles 3D</h3>
                    <p class="game-version-description">Souris: Rotation | Molette: Zoom | Clic: Interaction | R: Réinitialiser caméra | P: Pause</p>
                </div>
                <div class="unified-card">
                    <h3 class="game-version-title">🌲 Environnement Naturel</h3>
                    <p class="game-version-description">Arbres, rochers, cascade et grande rivière pour une expérience immersive</p>
                </div>
                <div class="unified-card">
                    <h3 class="game-version-title">📊 Système de Score 3D</h3>
                    <p class="game-version-description">3 lettres: 125 pts | 4 lettres: 312 pts | 5 lettres: 625 pts | 6+ lettres: 1250 pts + bonus</p>
                </div>
                <div class="unified-card">
                    <h3 class="game-version-title">🔥 Combo 3D</h3>
                    <p class="game-version-description">+75% par mot enchaîné (bonus 3D)</p>
                </div>
                <div class="unified-card">
                    <h3 class="game-version-title">📈 Progression 3D</h3>
                    <p class="game-version-description">Niveau 1: 1250 pts | Niveau 2: 3125 pts | Niveau 3: 6250 pts</p>
                </div>
            </div>
        </div>

        <!-- Controls Section -->
        <div class="unified-glass-panel unified-mb-xl">
            <h2 class="unified-text-center"><i class="fas fa-cog"></i> Contrôles</h2>
            <p class="unified-text-center unified-mb-lg">Utilisez votre souris et votre clavier pour contrôler le jeu:</p>
            <div class="unified-grid unified-grid-2">
                <div class="unified-card">
                    <h3 class="game-version-title">Souris</h3>
                    <ul class="game-version-features">
                        <li>Rotation de la caméra</li>
                        <li>Molette: Zoom</li>
                        <li>Clic gauche: Interagir avec les lettres</li>
                        <li>Clic droit: Déplacer la caméra</li>
                    </ul>
                </div>
                <div class="unified-card">
                    <h3 class="game-version-title">Clavier</h3>
                    <ul class="game-version-features">
                        <li>P: Pause/Reprise du jeu</li>
                        <li>R: Recommencer le niveau</li>
                        <li>F: Plein écran</li>
                        <li>E: Basculer l'environnement</li>
                        <li>W: Basculer la cascade</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Info Section -->
        <div class="unified-glass-panel unified-mb-xl">
            <h2 class="unified-text-center"><i class="fas fa-info-circle"></i> À Propos</h2>
            <p class="unified-text-center unified-mb-lg">Ce jeu est une version 3D de l'édition "Lettres Cascade Challenge" avec un environnement naturel immersif. Votre objectif est de former des mots en plaçant les lettres tombantes sur une grille, entouré d'arbres, de rochers, d'une cascade et d'une grande rivière.</p>
            <p class="unified-text-center">Le jeu est conçu pour être relaxant et amusant, avec des effets visuels immersifs et une interface intuitive dans un environnement naturel.</p>
        </div>

        <!-- Stats Section -->
        <div class="unified-glass-panel unified-mb-xl">
            <h2 class="unified-text-center"><i class="fas fa-chart-bar"></i> Statistiques</h2>
            <div class="unified-grid unified-grid-4">
                <div class="unified-card">
                    <span class="stat-label">Score</span>
                    <span class="stat-value" id="gameScore">0</span>
                </div>
                <div class="unified-card">
                    <span class="stat-label">Niveau</span>
                    <span class="stat-value" id="gameLevel">1</span>
                </div>
                <div class="unified-card">
                    <span class="stat-label">Combo</span>
                    <span class="stat-value" id="gameCombo">1</span>
                </div>
                <div class="unified-card">
                    <span class="stat-label">Mots</span>
                    <span class="stat-value" id="gameWords">0</span>
                </div>
            </div>
        </div>

        <!-- Letter Queue Section -->
        <div class="unified-glass-panel unified-mb-xl">
            <h2 class="unified-text-center"><i class="fas fa-list"></i> File d'attente</h2>
            <div class="unified-text-center" id="letterQueue">
                <div class="letter-item" data-letter="A">
                    <span class="letter-text">A</span>
                </div>
                <div class="letter-item" data-letter="B">
                    <span class="letter-text">B</span>
                </div>
                <div class="letter-item" data-letter="C">
                    <span class="letter-text">C</span>
                </div>
                <div class="letter-item" data-letter="D">
                    <span class="letter-text">D</span>
                </div>
                <div class="letter-item" data-letter="E">
                    <span class="letter-text">E</span>
                </div>
            </div>
        </div>
    </main>

    <!-- Enhanced Three.js CDN with multiple fallbacks -->
    
    
    
    
    
    
    <!-- Three.js Library -->
    
    
    
    
    <!-- Game Scripts -->
        </div>
    </main>

    <!-- Footer -->
    

    <!-- Navigation Script -->
    

    <!-- Page-specific JavaScript -->
        </div>
    </main>

    <!-- Footer -->
    <footer class="glass-panel" style="margin-top: var(--spacing-2xl); text-align: center;">
        <p>&copy; 2025 Letters Cascade Challenge. Tous droits réservés.</p>
    </footer>

    <!-- Navigation Script -->
    <script>
        // Mobile navigation toggle
        const navToggle = document.getElementById('nav-toggle');
        const navMenu = document.getElementById('nav-menu');
        
        if (navToggle && navMenu) {
            navToggle.addEventListener('click', function() {
                const isExpanded = navToggle.getAttribute('aria-expanded') === 'true';
                navToggle.setAttribute('aria-expanded', !isExpanded);
                navMenu.classList.toggle('active');
            });
            
            // Close menu when clicking outside
            document.addEventListener('click', function(event) {
                if (!navToggle.contains(event.target) && !navMenu.contains(event.target)) {
                    navMenu.classList.remove('active');
                    navToggle.setAttribute('aria-expanded', 'false');
                }
            });
        }
        
        // Hide/show navigation on scroll
        let lastScrollTop = 0;
        const navHeader = document.querySelector('.unified-nav-header');
        
        window.addEventListener('scroll', function() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (scrollTop > lastScrollTop && scrollTop > 100) {
                navHeader.style.transform = 'translateY(-100%)';
            } else {
                navHeader.style.transform = 'translateY(0)';
            }
            
            lastScrollTop = scrollTop;
        });
    </script>

    <!-- Page-specific JavaScript -->
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXX-X"></script>
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-XXXXX-X');
    </script>
<script>
        // Enhanced Three.js loader with multiple CDN fallbacks
        function loadThreeJS() {
            const cdnUrls = [
                'https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js',
                'https://unpkg.com/three@0.128.0/build/three.min.js',
                'https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js',
                'https://cdnjs.cloudflare.com/ajax/libs/three.js/0.128.0/three.min.js'
            ];
            
            function tryLoadThree(index = 0) {
                if (index >= cdnUrls.length) {
                    console.error('❌ All Three.js CDN sources failed');
                    return;
                }
                
                const script = document.createElement('script');
                script.src = cdnUrls[index];
                script.type = 'text/javascript';
                script.crossOrigin = 'anonymous';
                
                const timeout = setTimeout(() => {
                    console.warn('⏰ Timeout loading Three.js from:', cdnUrls[index]);
                    script.onerror();
                }, 5000);
                
                script.onload = () => {
                    clearTimeout(timeout);
                    console.log('✅ Three.js loaded from:', cdnUrls[index]);
                    setTimeout(() => {
                        if (typeof THREE !== 'undefined' && THREE.Scene && THREE.PerspectiveCamera && THREE.WebGLRenderer) {
                            console.log('✅ Three.js classes verified');
                        } else {
                            console.warn('⚠️ Three.js loaded but classes not available, trying next CDN');
                            tryLoadThree(index + 1);
                        }
                    }, 100);
                };
                
                script.onerror = () => {
                    clearTimeout(timeout);
                    console.warn('❌ Failed to load Three.js from:', cdnUrls[index]);
                    tryLoadThree(index + 1);
                };
                
                document.head.appendChild(script);
            }
            
            tryLoadThree();
        }
        
        // Load Three.js immediately
        loadThreeJS();
    </script>
<script type="module" src="js/bridge/GameLogicBridge.js"></script>
<script src="../../assets/js/libs/three.min.js"></script>
<script src="../../assets/js/libs/tween.umd.js"></script>
<script src="../../assets/js/libs/FBXLoader.js"></script>
<script src="../../assets/js/shaders.js"></script>
<script src="../../assets/js/game3d-enhanced.js"></script>
<script>(function(){try{var el=document.getElementById('page-footer');if(el){var d=new Date();el.textContent=d.toLocaleDateString('fr-FR',{year:'numeric',month:'long',day:'numeric'});}}catch(e){}})();</script>
</body>
</html>
